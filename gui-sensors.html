<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>LED matrix interface</title>
	<script src="jquery-3.4.1.min.js"></script>
	<script>
<-- [{"sensor":"pressure","value"=241.42,"unit"="hPa"}]-->

		var url = '../../server_sensehat_mockup/sense.php';

		$.get(url, function(data, status){	
			var sensor = JSON.parse(data);
			var div = $("<div>", {
				id: "s_"+sensor.sensor,
				"class": 'sensor',
				title: sensor.sensor,
			});

<!-- add the element to the body for display -->
			$("body").append(div);	
		<!-- add value to the element -->
			$("#s_"+sensor.id).html(sensor.value+" "+sensor.unit);
		});
	</script>

	<script>

	var refresh_bttn = $("<input>",{"id":"refresh", "type":"button", "value":"Refresh data"});

	<!-- when the button is clicked: -->
        clear_input.click(function(){

		$("[id^=LED]").val(0);
		url = "http://192.168.113.104/webinterface/setpixel.php?&C=1";          

		$.get(url, function(data, status){
			var sensor = JSON.parse(data);
			var div = $("<div>", {
				id: "s_"+sensor.sensor,
				"class": 'sensor',
				title: sensor.sensor,
		});

		$("#s_"+sensor.id).html(sensor.value+" "+sensor.unit);
	});  
        

        $("body").append(refresh_bttn);

	</script>



